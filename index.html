<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mimoo - Nature & Illustrator</title>
    <meta name="author" content="Mimoo">
    <meta name="keywords" content="art digital, illustration, character design, artiste, portfolio, Mimoo, dessin numérique, artiste français, création digitale, design de personnages, illustration fantastique, art contemporain">
    <meta name="description" content="Découvrez l'univers créatif de Mimoo, artiste digitale spécialisée en illustration et character design. Portfolio artistique présentant des créations uniques mêlant nature, fantaisie et techniques numériques.">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#557153">

    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Mimoo - Artiste Digitale | Illustration & Character Design">
    <meta property="og:description" content="Explorez un univers artistique unique où nature et digital se rencontrent. Portfolio d'illustrations et designs de personnages par Mimoo.">
    <meta property="og:image" content="https://temmiiee.github.io/Mimoo-portfolio/images/og-image.jpg">
    <meta property="og:locale" content="fr_FR">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:creator" content="@mimoo_art">
    <meta name="twitter:title" content="Mimoo - Art Digital & Character Design">
    <meta name="twitter:description" content="Découvrez mes créations digitales uniques : illustrations, designs de personnages et univers fantastiques.">
    <meta name="twitter:image" content="https://temmiiee.github.io/Mimoo-portfolio/images/og-image.jpg">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Préchargement de la police Poppins Bold pour le titre principal (LCP) -->
    <link rel="preload" href="https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLCz7Z1xlFQ.woff2" as="font" type="font/woff2" crossorigin="anonymous" fetchpriority="high">
    <!-- Chargement des polices Google Fonts sans bloquer le rendu -->
    <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
    <!-- Fallback pour les navigateurs qui ne supportent pas onload -->
    <noscript>
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap" rel="stylesheet">
    </noscript>
    <!-- Styles de secours pour éviter le FOUT -->
    <style>
        /* Police de secours en attendant le chargement de Poppins */
        @font-face {
            font-family: 'Poppins Fallback';
            size-adjust: 105%;
            ascent-override: 95%;
            src: local('Arial');
        }

        /* Utiliser la police de secours si Poppins n'est pas encore chargée */
        body {
            font-family: 'Poppins', 'Poppins Fallback', sans-serif;
        }
    </style>
    <!-- Styles principaux -->
    <style>
        /* Styles de la section hero */
        .hero {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
            overflow: hidden;
            background-color: #333; /* Couleur de fond par défaut en attendant l'image */
        }

        /* Styles pour le h1 */
        .hero h1 {
            font-size: 4rem;
            margin-block: 0.67em;
        }

        /* Les styles pour l'image de fond sont maintenant directement dans la balise section */

        /* Styles pour les liens sociaux */
        .social-link:hover {
            transform: translateY(-3px);
            background: #557153 !important;
            color: white !important;
        }

        .social-link:hover i {
            color: white !important;
        }
    </style>

    <!-- CSS critique pour le rendu initial -->
    <style>
        /* Styles critiques pour éviter les décalages de mise en page */
        body, html { margin: 0; padding: 0; }
        .hero { min-height: 100vh; position: relative; }
        .gallery-item { position: relative; aspect-ratio: 1 / 1; overflow: hidden; }
        .gallery-item img { width: 100%; height: 100%; object-fit: cover; display: block; }
    </style>

    <!-- Chargement différé du CSS unifié -->
    <link rel="stylesheet" href="css/main.css" media="print" onload="this.media='all'">
    <noscript>
        <link rel="stylesheet" href="css/main.css">
    </noscript>

    <link rel="manifest" href="site.webmanifest">
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/favicon.ico">
    <!-- Remplacer la section Font Awesome dans le head -->
    <style>
    @font-face {
        font-family: 'Font Awesome 6 Free';
        font-style: normal;
        font-weight: 900;
        font-display: block;
        src: url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/webfonts/fa-solid-900.woff2") format("woff2");
    }

    @font-face {
        font-family: 'Font Awesome 6 Brands';
        font-style: normal;
        font-weight: 400;
        font-display: block;
        src: url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/webfonts/fa-brands-400.woff2") format("woff2");
    }

    /* Icônes solid (fas) */
    .fa-chevron-right:before { content: "\f054"; }
    .fa-chevron-left:before { content: "\f053"; }
    .fa-desktop:before { content: "\f108"; }
    .fa-paint-brush:before { content: "\f1fc"; }
    .fa-pencil-alt:before { content: "\f303"; }
    .fa-palette:before { content: "\f53f"; }

    /* Icônes brands (fab) */
    .fa-instagram:before { content: "\f16d"; }
    .fa-twitter:before { content: "\f099"; }

    /* Styles de base pour les icônes */
    .fas {
        font-family: 'Font Awesome 6 Free';
        font-weight: 900;
    }

    .fab {
        font-family: 'Font Awesome 6 Brands';
        font-weight: 400;
    }

    .fas, .fab {
        -moz-osx-font-smoothing: grayscale;
        -webkit-font-smoothing: antialiased;
        display: inline-block;
        font-style: normal;
        font-variant: normal;
        text-rendering: auto;
        line-height: 1;
    }
    </style>

    <!-- Charger uniquement les icônes nécessaires -->
    <style>
    @font-face {
        font-family: 'Font Awesome 6 Free';
        font-style: normal;
        font-weight: 900;
        font-display: block;
        src: url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/webfonts/fa-solid-900.woff2") format("woff2");
    }

    /* Définir uniquement les classes utilisées */
    .fa-instagram:before { content: "\f16d"; }
    .fa-twitter:before { content: "\f099"; }
    .fa-desktop:before { content: "\f108"; }
    .fa-paint-brush:before { content: "\f1fc"; }
    </style>

    <!-- Chargement du viewer 3D temporairement désactivé -->
    <!--
    <script defer src="js/3dviewer-simple.js"></script>
    <script>
    function loadThreeJsScripts() {
        return Promise.resolve();
    }
    </script>
    -->
    <!-- Script de gestion des chemins de base et redirection -->
    <script>
        // Détecter le chemin de base pour GitHub Pages
        function getBasePath() {
            const host = window.location.hostname;

            // Si nous sommes sur GitHub Pages (temmiiee.github.io)
            if (host.includes('github.io')) {
                return '/Mimoo-portfolio/';
            }

            // Par défaut, retourner la racine
            return '/';
        }

        // Définir une variable globale pour le chemin de base
        window.basePath = getBasePath();
    </script>
    <!-- Scripts simplifiés -->

    <!-- Service worker temporairement désactivé pour résoudre les problèmes de cache -->
    <script>
        // Désinscrire tous les service workers existants
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.getRegistrations().then(function(registrations) {
                for (let registration of registrations) {
                    registration.unregister();
                }
                // Vider le cache
                caches.keys().then(function(cacheNames) {
                    return Promise.all(
                        cacheNames.map(function(cacheName) {
                            return caches.delete(cacheName);
                        })
                    );
                });
            });
        }
    </script>

    <!-- Scripts essentiels uniquement -->
    <script defer src="js/translations.js"></script>
    <script defer src="js/language.js"></script>
    <script defer src="js/script.js"></script>
    <script>
        // Script simplifié pour charger l'image de fond
        document.addEventListener('DOMContentLoaded', function() {
            // Appliquer directement l'image de fond
            const heroSection = document.getElementById('accueil');
            if (heroSection) {
                heroSection.style.backgroundImage = "url('images/background.webp')";
            }
        });
    </script>
    <!-- Chargement optimisé d'AOS (Animate On Scroll) -->
    <script>
    // Fonction pour charger AOS uniquement lorsque l'utilisateur fait défiler la page
    function loadAOS() {
        if (window.innerWidth > 768) { // Charger uniquement sur desktop
            var aosScript = document.createElement('script');
            aosScript.src = 'https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js';
            aosScript.onerror = function() {
                // Silencieusement échouer si le CDN est inaccessible
                console.debug('AOS non chargé - mode dégradé actif');
            };
            aosScript.onload = function() {
                if (typeof AOS !== 'undefined') {
                    AOS.init({
                        duration: 1000,
                        once: true,
                        offset: 100,
                        disable: 'mobile'
                    });
                }
            };
            document.head.appendChild(aosScript);
        }
    }

    // Charger AOS uniquement lorsque l'utilisateur fait défiler la page
    var scrollHandler = function() {
        loadAOS();
        // Supprimer l'écouteur d'événement après le chargement
        window.removeEventListener('scroll', scrollHandler);
    };

    // Ajouter un écouteur d'événement pour le défilement
    window.addEventListener('scroll', scrollHandler, { passive: true });

    // Charger AOS après un délai si l'utilisateur ne fait pas défiler
    setTimeout(loadAOS, 5000);

    // Définir une variable globale pour indiquer si AOS est chargé
    window.isAOSLoaded = false;
    </script>
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "Mimoo",
    "url": "https://temmiiee.github.io/Mimoo-portfolio/",
    "image": "https://temmiiee.github.io/Mimoo-portfolio/images/mimoo.webp",
    "sameAs": [
        "https://instagram.com/_mimoou",
        "https://twitter.com/mimoo_art",
        "https://vgen.co/Mimoo"
    ],
    "jobTitle": "Digital Artist",
    "description": "Artiste digitale spécialisée en illustration et character design",
    "knowsAbout": ["Digital Art", "Character Design", "Illustration"]
}
</script>
    <link rel="canonical" href="https://temmiiee.github.io/Mimoo-portfolio/" />
</head>
<body>

    <div class="nav-overlay"></div>
    <nav>
        <div class="logo">
            <span class="logo-text">M</span>
            <span class="logo-text">i</span>
            <span class="logo-text">m</span>
            <span class="logo-text">o</span>
            <span class="logo-text">o</span>
            <span class="logo-emoji">🌿</span>
        </div>
        <!-- Escargot animé dans la barre de navigation -->
        <div class="snail-container">
            <div class="snail" role="button" aria-label="Faire sauter l'escargot" tabindex="0">🐌</div>
        </div>
        <div class="language-selector" role="group" aria-label="Sélection de la langue">
            <button class="lang-btn" data-lang="fr" aria-label="Français" aria-pressed="true">FR</button>
            <button class="lang-btn" data-lang="en" aria-label="English" aria-pressed="false">EN</button>
        </div>
        <button class="hamburger" aria-label="Menu de navigation" aria-expanded="false">
            <span></span>
            <span></span>
            <span></span>
        </button>
        <ul class="nav-links">
            <li><a href="#accueil" data-translate="nav.home">Accueil</a></li>
            <li><a href="#apropos" data-translate="nav.about">À propos</a></li>
            <li><a href="#galerie" data-translate="nav.gallery">Galerie</a></li>
            <li><a href="#contact" data-translate="nav.contact">Contact</a></li>
        </ul>
    </nav>

    <section id="accueil" class="hero" style="background-color: #333; background-size: cover; background-position: center; background-repeat: no-repeat; position: relative;">
        <!-- Overlay pour assombrir l'image -->
        <div class="hero-overlay"></div>
        <div class="hero-content-wrapper">
            <div class="hero-content">
                <h1 data-translate="hero.title" id="main-title">Portfolio Art & Nature</h1>
                <p data-translate="hero.subtitle" class="hero-subtitle">Bienvenue dans mon univers créatif</p>
                <a href="#galerie" class="cta-button" data-translate="hero.cta">Voir mes créations</a>
            </div>
        </div>

    </section>

    <section id="apropos" class="about">
        <div class="container">
            <h2 data-translate="about.title">À propos de moi</h2>
            <div class="about-content">
                <div class="about-image-container">
                    <div class="about-image animate fade-left" style="display: flex; justify-content: center; align-items: center;">
                        <img 
                            src="images/mimoo.webp" 
                            alt="Mimoo" 
                            class="profile-img" 
                            loading="lazy"
                            width="200"
                            height="200"
                            style="margin: auto;"
                        >
                    </div>
                </div>
                <div class="about-text animate fade-right">
                    <p data-translate="about.description">Je suis Mimoo, une artiste de 21 ans qui adore la nature et les animaux...</p>
                    <div class="techniques">
                        <div class="technique animate fade-up">
                            <i class="fas fa-desktop"></i>
                            <h3 data-translate="about.techniques.digital.title">Art Digital</h3>
                            <p data-translate="about.techniques.digital.description">Création d'œuvres uniques sur ordinateur et tablette</p>
                        </div>
                        <div class="technique animate fade-up delay-100">
                            <i class="fas fa-paint-brush"></i>
                            <h3 data-translate="about.techniques.illustration.title">Illustration</h3>
                            <p data-translate="about.techniques.illustration.description">Illustrations personnalisées et créatives</p>
                        </div>
                        <div class="technique animate fade-up delay-200">
                            <i class="fas fa-pencil-alt"></i>
                            <h3 data-translate="about.techniques.character.title">Character Design</h3>
                            <p data-translate="about.techniques.character.description">Conception de personnages originaux</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="galerie" class="gallery">
        <div class="container">
            <h2 data-translate="gallery.title">Galerie</h2>
            <div class="gallery-filters" role="group" aria-label="Filtres de galerie">
                <button class="filter-btn active" data-filter="all" data-translate="gallery.filters.all" aria-pressed="true" aria-controls="gallery-grid">Tout</button>
                <button class="filter-btn" data-filter="illustration" data-translate="gallery.filters.illustration" aria-pressed="false" aria-controls="gallery-grid">Illustration</button>
                <button class="filter-btn" data-filter="character" data-translate="gallery.filters.character" aria-pressed="false" aria-controls="gallery-grid">Character Design</button>
                <!-- Filtre 3D temporairement désactivé -->
                <!-- <button class="filter-btn" data-filter="3d" data-translate="gallery.filters.3d" aria-pressed="false" aria-controls="gallery-grid">Modèles 3D</button> -->
            </div>
            <div class="gallery-grid" id="gallery-grid">
                <div class="gallery-item animate fade-up" data-category="illustration">
                    <img src="images/gallery/illustration1.webp"
                         alt="Dragon arc-en-ciel - Illustration digitale fantastique par Mimoo"
                         title="Dragon arc-en-ciel par Mimoo"
                         width="400" height="400"
                         loading="lazy">
                    <div class="overlay">
                        <h3 data-translate="gallery.items.illustration1.title">Dragon arc-en-ciel</h3>
                        <p data-translate="gallery.items.illustration1.description">Art digital</p>
                    </div>
                </div>
                <div class="gallery-item animate fade-up delay-100" data-category="character">
                    <img src="images/gallery/character1.webp" alt="Character Design 1" width="400" height="400" loading="lazy">
                    <div class="overlay">
                        <h3 data-translate="gallery.items.character1.title">Harley</h3>
                        <p data-translate="gallery.items.character1.description">Character design</p>
                    </div>
                </div>
                <div class="gallery-item animate fade-up delay-200" data-category="illustration">
                    <img src="images/gallery/illustration2.webp" alt="Illustration 2" width="400" height="400" loading="lazy">
                    <div class="overlay">
                        <h3 data-translate="gallery.items.illustration2.title">Dragon arc-en-ciel</h3>
                        <p data-translate="gallery.items.illustration2.description">Art digital</p>
                    </div>
                </div>
                <div class="gallery-item animate fade-up delay-100" data-category="character">
                    <img src="images/gallery/character2.webp" alt="Character Design 2" width="400" height="400" loading="lazy">
                    <div class="overlay">
                        <h3 data-translate="gallery.items.character2.title">Chibi</h3>
                        <p data-translate="gallery.items.character2.description">Character design</p>
                    </div>
                </div>
                <div class="gallery-item animate fade-up delay-200" data-category="illustration">
                    <img src="images/gallery/illustration3.webp" alt="Illustration 3" width="400" height="400" loading="lazy">
                    <div class="overlay">
                        <h3 data-translate="gallery.items.illustration3.title">Ange et dragon</h3>
                        <p data-translate="gallery.items.illustration3.description">Art digital</p>
                    </div>
                </div>
                <div class="gallery-item animate fade-up delay-100" data-category="character">
                    <img src="images/gallery/character3.webp" alt="Character Design 3" width="400" height="400" loading="lazy">
                    <div class="overlay">
                        <h3 data-translate="gallery.items.character3.title">Dragon Céleste</h3>
                        <p data-translate="gallery.items.character3.description">Character design</p>
                    </div>
                </div>
                <div class="gallery-item animate fade-up delay-200" data-category="illustration">
                    <img src="images/gallery/illustration4.webp" alt="Illustration 4" width="400" height="400" loading="lazy">
                    <div class="overlay">
                        <h3 data-translate="gallery.items.illustration4.title">Endroit mystérieux</h3>
                        <p data-translate="gallery.items.illustration4.description">Art digital</p>
                    </div>
                </div>
                <div class="gallery-item animate fade-up delay-100" data-category="character">
                    <img src="images/gallery/character4.webp" alt="Character Design 4" width="400" height="400" loading="lazy">
                    <div class="overlay">
                        <h3 data-translate="gallery.items.character4.title">Personnage</h3>
                        <p data-translate="gallery.items.character4.description">Character design</p>
                    </div>
                </div>
                <div class="gallery-item animate fade-up delay-200" data-category="character">
                    <img src="images/gallery/character5.webp" alt="Character Design 5" width="400" height="400" loading="lazy">
                    <div class="overlay">
                        <h3 data-translate="gallery.items.character5.title">Spider Wolf</h3>
                        <p data-translate="gallery.items.character5.description">Character design</p>
                    </div>
                </div>
                <!-- Modèles 3D - Temporairement désactivé -->
                <!--
                <div class="gallery-item" data-category="3d" data-type="3d" data-model-url="">
                    <img src="images/previews/theiere-preview.jpg" alt="Théière 3D" width="400" height="400" loading="lazy">
                    <div class="overlay">
                        <h3 data-translate="gallery.items.3d1.title">Théière 3D</h3>
                        <p data-translate="gallery.items.3d1.description">Modèle 3D interactif d'une théière</p>
                    </div>
                </div>
                -->
            </div>
        </div>
    </section>

    <section id="contact" class="contact">
        <div class="container">
            <h2 data-translate="contact.title">Contactez-moi</h2>
            <div class="contact-container">
                <div class="contact-form-wrapper animate fade-left">
                    <form id="contact-form" action="https://formspree.io/f/mvgkonpd" method="POST">
                        <div class="form-group">
                            <label for="name" data-translate="contact.form.name">Votre nom</label>
                            <input type="text" id="name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="email" data-translate="contact.form.email">Votre email</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="message" data-translate="contact.form.message">Votre message</label>
                            <textarea id="message" name="message" required></textarea>
                        </div>
                        <button type="submit" class="cta-button" data-translate="contact.form.send">
                            <i class="fas fa-paper-plane"></i> Envoyer
                        </button>
                    </form>
                </div>
                <div class="contact-info animate fade-right">
                    <h3 data-translate="contact.social.title">Retrouvez-moi sur</h3>
                    <div class="social-links">
                        <a href="https://instagram.com/_mimoou" target="_blank" class="social-link">
                            <i class="fab fa-instagram"></i>
                            <span>Instagram</span>
                        </a>
                        <a href="https://twitter.com/mimoo_art" target="_blank" class="social-link">
                            <i class="fab fa-twitter"></i>
                            <span>Twitter</span>
                        </a>
                        <a href="https://vgen.co/Mimoo" target="_blank" class="social-link">
                            <i class="fas fa-palette"></i>
                            <span>VGen</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <p>&copy; 2025 Temmiie. <span data-translate="footer.rights">Tous droits réservés.</span></p>
                <div class="footer-links">
                    <a href="#accueil">Accueil</a>
                    <a href="#apropos">À propos</a>
                    <a href="#galerie">Galerie</a>
                    <a href="#contact">Contact</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Container pour les animations Three.js -->
    <div id="canvas-container"></div>



    <!-- Lightbox pour l'affichage en plein écran -->
    <div class="lightbox">
        <div class="lightbox-content">
            <button class="lightbox-close" aria-label="Fermer">×</button>
            <div class="lightbox-navigation">
                <button class="lightbox-prev" aria-label="Image précédente"><i class="fas fa-chevron-left" aria-hidden="true"></i></button>
                <button class="lightbox-next" aria-label="Image suivante"><i class="fas fa-chevron-right" aria-hidden="true"></i></button>
            </div>
            <img 
                src="" 
                alt="Image en plein écran" 
                class="lightbox-image" 
                width="800"
                height="600"
            >
            <div class="lightbox-info">
                <h3 class="lightbox-title"></h3>
            </div>
        </div>
    </div>

    <!-- Scripts essentiels -->
    <script>
        // Configuration globale
        window.SITE_VERSION = '1.0.0';
        
        // Détection du chemin de base
        window.basePath = (function() {
            return window.location.hostname.includes('github.io') ? '/Mimoo-portfolio/' : '/';
        })();

        // Fonction pour initialiser toutes les fonctionnalités du site
        function initializeSite() {
            // Initialiser la navigation
            function initializeNavigation() {
                const hamburger = document.querySelector('.hamburger');
                const navLinks = document.querySelector('.nav-links');

                if (!hamburger || !navLinks) {
                    console.error('Elements de navigation manquants');
                    return;
                }

                function toggleMenu() {
                    hamburger.classList.toggle('active');
                    navLinks.classList.toggle('active');
                    const isExpanded = hamburger.classList.contains('active');
                    hamburger.setAttribute('aria-expanded', isExpanded);
                }

                hamburger.addEventListener('click', function(e) {
                    e.preventDefault();
                    toggleMenu();
                });
            }

            // Initialiser les filtres de la galerie
            function initializeGalleryFilters() {
                const filterButtons = document.querySelectorAll('.filter-btn');
                const galleryItems = document.querySelectorAll('.gallery-item');

                filterButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        const filter = button.getAttribute('data-filter');
                        
                        filterButtons.forEach(btn => btn.classList.remove('active'));
                        button.classList.add('active');

                        galleryItems.forEach(item => {
                            if (filter === 'all' || item.getAttribute('data-category') === filter) {
                                item.style.display = 'block';
                            } else {
                                item.style.display = 'none';
                            }
                        });
                    });
                });

                // Activer le filtre "all" par défaut
                const defaultFilter = document.querySelector('.filter-btn[data-filter="all"]');
                if (defaultFilter) {
                    defaultFilter.click();
                }
            }

            // Initialiser la lightbox
            function initializeLightbox() {
                const lightbox = document.querySelector('.lightbox');
                const lightboxImage = document.querySelector('.lightbox-image');
                const lightboxClose = document.querySelector('.lightbox-close');
                const lightboxTitle = document.querySelector('.lightbox-title');
                const lightboxPrev = document.querySelector('.lightbox-prev');
                const lightboxNext = document.querySelector('.lightbox-next');
                const galleryItems = document.querySelectorAll('.gallery-item');
                let currentIndex = 0;

                function updateLightboxContent(index) {
                    const items = Array.from(galleryItems);
                    const item = items[index];
                    const img = item.querySelector('img');
                    const title = item.querySelector('h3');

                    lightboxImage.src = img.src;
                    lightboxTitle.textContent = title ? title.textContent : '';
                    currentIndex = index;
                }

                galleryItems.forEach((item, index) => {
                    item.addEventListener('click', () => {
                        updateLightboxContent(index);
                        lightbox.style.display = 'flex';
                    });
                });

                lightboxClose.addEventListener('click', () => {
                    lightbox.style.display = 'none';
                });

                lightboxPrev.addEventListener('click', () => {
                    currentIndex = (currentIndex - 1 + galleryItems.length) % galleryItems.length;
                    updateLightboxContent(currentIndex);
                });

                lightboxNext.addEventListener('click', () => {
                    currentIndex = (currentIndex + 1) % galleryItems.length;
                    updateLightboxContent(currentIndex);
                });

                lightbox.addEventListener('click', (e) => {
                    if (e.target === lightbox) {
                        lightbox.style.display = 'none';
                    }
                });
            }

            // Initialiser les créatures flottantes
            function createFloatingCreatures() {
                const creatures = ['🦋', '🐝', '🐞'];
                const container = document.body;

                // Supprimer les anciennes créatures si elles existent
                document.querySelectorAll('.floating-creature').forEach(el => el.remove());

                for (let i = 0; i < 5; i++) {
                    const creature = document.createElement('div');
                    creature.className = 'floating-creature';
                    creature.textContent = creatures[Math.floor(Math.random() * creatures.length)];
                    creature.style.left = Math.random() * 100 + 'vw';
                    creature.style.animationDuration = (Math.random() * 10 + 10) + 's';
                    creature.style.animationDelay = (Math.random() * 5) + 's';
                    container.appendChild(creature);
                }
            }

            // Initialiser les effets de survol
            function initializeHoverEffects() {
                const elements = document.querySelectorAll('.animate');
                elements.forEach(element => {
                    element.classList.add('hover-ready');
                });
            }

            // Initialiser les fonctionnalités essentielles immédiatement
            initializeNavigation();
            initializeGalleryFilters();
            initializeLightbox();

            // Initialiser les créatures flottantes immédiatement
            createFloatingCreatures();

            // Initialiser les autres fonctionnalités décoratives avec un délai
            setTimeout(() => {
                initializeHoverEffects();
                document.body.classList.add('animations-loaded');
            }, 300);
        }

        // Attendre que les scripts externes soient chargés
        function waitForDependencies(callback) {
            const checkDependencies = () => {
                if (window.translations && window.LanguageManager) {
                    callback();
                } else {
                    setTimeout(checkDependencies, 100);
                }
            };
            checkDependencies();
        }

        // Gestion des images et initialisation du site
        document.addEventListener('DOMContentLoaded', function() {
            // Appliquer l'image de fond du hero
            const heroSection = document.getElementById('accueil');
            if (heroSection) {
                heroSection.style.backgroundImage = "url('images/background.webp')";
            }

            // Optimisation des images de la galerie
            const imageObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target.querySelector('img');
                        if (img && img.dataset.src) {
                            img.src = img.dataset.src;
                            imageObserver.unobserve(entry.target);
                        }
                    }
                });
            }, { rootMargin: '200px' });

            document.querySelectorAll('.gallery-item').forEach(item => {
                imageObserver.observe(item);
            });

            // Attendre que les dépendances soient chargées avant d'initialiser
            waitForDependencies(() => {
                initializeSite();
                if (window.LanguageManager) {
                    window.LanguageManager.constructor();
                }
            });
        });

        // Gestion d'AOS
        (function() {
            let aosLoaded = false;

            function loadAOS() {
                if (aosLoaded || window.innerWidth <= 768) return;

                const aosScript = document.createElement('script');
                aosScript.src = 'https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js';
                
                aosScript.onload = function() {
                    if (typeof AOS !== 'undefined') {
                        AOS.init({
                            duration: 1000,
                            once: true,
                            offset: 100,
                            disable: 'mobile'
                        });
                        aosLoaded = true;
                    }
                };

                document.head.appendChild(aosScript);
            }

            window.addEventListener('scroll', function scrollHandler() {
                loadAOS();
                window.removeEventListener('scroll', scrollHandler);
            }, { passive: true });

            setTimeout(loadAOS, 5000);
        })();
    </script>

    <!-- Scripts différés -->
    <script defer src="js/translations.js"></script>
    <script defer src="js/language.js"></script>
    <script defer src="js/script.js"></script>
</body>
</html>
